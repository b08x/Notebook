
# prompt

Using Past Tense, Summarize this git diff for a git commit message: 


![](AI/Prompt%20Engineering/prompts/gitCommitMSG/attachments/git_commit_query_and_response.json)





### example input
```diff

diff --git a/base.yml b/base.yml index 0e121ba..32cf165 100644 --- a/base.yml +++ b/base.yml @@ -35,7 +35,7 @@ src: /etc/almalinux-release dest: /etc/system-release state: link - when: ansible_distribution == 'AlmaLinux' + when: ansible_distribution == 'AlmaLinux' tags: ['base'] - name: Include group variables @@ -178,3 +178,9 @@ timeout: 120 when: reboot is defined tags: ['reboot'] + + - name: Ensure reboot was successful + debug: + msg: "Reboot success!" + when: reboot is defined + tags: ['reboot'] diff --git a/group_vars/all.yml b/group_vars/all.yml index 9091196..aa2f785 100644 --- a/group_vars/all.yml +++ b/group_vars/all.yml @@ -22,6 +22,19 @@ autofs_client: - backup - storage +font: + primary: + name: Hack Nerd Font + size: 10 + hintstyle: hintsfull + glyphs: + name: Font Awesome 6 Free Regular + mono: + name: Hack Nerd Font Mono + +ohmyzsh: + theme: minimal-terminal-prompt + # The default directory permission mode when creating directories using `root_directory_definitions` root_directory_default_mode: '0750' diff --git a/group_vars/workstation.yml b/group_vars/workstation.yml index 23a6fac..4eb8003 100644 --- a/group_vars/workstation.yml +++ b/group_vars/workstation.yml @@ -57,6 +57,8 @@ desktop: terminal_alt: "uxterm" browser: "google-chrome-stable" +backgrounds: /usr/share/backgrounds/syncopated + barrier: server: False client: False @@ -65,157 +67,163 @@ x: autostart: 'default' theme: - colors: - syntax: - ScrollBar: "#8A1F14" - Foreground: "#2177a7" - Background: "#09090d" - HighlightedForeground: "#3B2352" - HighlightedBackground: "#3B2352" - WindowBackground: "#09090d" - ErrorBackground: "#636363" - DefaultBackground: "#09090d" - NumberForeground: "#69e62e" - FunctionMethodNameForeground: "#df2828" - KeywordForeground: "#e08f23" - SymbolForeground: "#a143af" - ModuleNameForeground: "#0fa4c4" - InstanceVariableForeground : "#d51b7f" - ClassVariableForeground: "#859900" - DoubleQuotedStringForeground: "#ba2290" - SingleQuotedStringForeground: "#22acba" - RegexForeground: "#e8448e" - SelectionForeground: "#292828" - SelectionBackground: "#b1701e" - MatchedBraceForeground: "#91a707" - MatchedBraceBackground: "#3a1f4a" - BraceForeground: "" - Scope: "#C4580F" - LogInfoForeground: "#585858" - LogInfoBackground: "#0a0a0a" - LogBackground: "#0a0a0a" - CuePathForeground: "#585858" - CuePathBackground: "#0a0a0a" - css: - background: '#0D0D0D' - foreground: '#a29e9e' - strong: '#c7d524' - emphasis: '#108E1A' - mark: - foreground: '#010101' - background: '#811d47' - strike: '#282828' - pre: '#d14242' - link: '#066592' - tag: '#838d6e' - h1: '#108E1A' - h2: '#bbaf05' - h3: '#14a8f0' - h4: '#b8b8b8' - h5: '#e9f10a' - sub: '#d28215' - sup: '#1D7981' - primary: - background: '#000000' - foreground: '#838d6e' - cursor: '#a38e1d' - status: '#794794' - separator: '#282828' - normal: - black: '#000000' - red: '#E32C2C' - green: '#4E9A06' - yellow: '#468A35' - blue: '#5B24A0' - magenta: '#96363C' - cyan: '#06989A' - white: '#77767B' - bright: - black: '#1C71D8' - red: '#EF2929' - green: '#8AE234' - yellow: '#FCE94F' - blue: '#729FCF' - magenta: '#865E3C' - cyan: '#34E2E2' - white: '#1C8B1C' - selection: - foreground: '#292828' - background: '#b1701e' - workspace: - background: '#3149a7' - border: '#3149a7' - text: '#ebdbb2' - focused: - border: '#33eb1c' - background: '#000000' - text: '#ebdbb2' - indicator: '#33eb1c' - child_border: '#33eb1c' - unfocused: - border: '#2a2a2a' - background: '#000000' - text: '#4a4d44' - indicator: '#33eb1c' - child_border: '#2a2a2a' - active: - border: '#2a2a2a' - background: '#000000' - text: '#4a4d44' - indicator: '#33eb1c' - child_border: '#33eb1c' - inactive: - border: '#2a2a2a' - background: '#6c6c6c' - text: '#4a4d44' - indicator: '#2a2a2a' - child_border: '#2a2a2a' - urgent: - border: '#2a8e10' - background: '#000000' - text: '#4a4d44' - indicator: '#33eb1c' - child_border: '#2a2a2a' - placeholder: - border: '#2a2a2a' - background: '#249043' - text: '#4a4d44' - indicator: '#33eb1c' - child_border: '#2a2a2a' + name: oomox-soundbot + icons: ArchLabs-Dark + cursor: xcursor-breeze + kvantum: KvGnomeDark + qtstyle: Fusion + +colors: + syntax: + ScrollBar: "#8A1F14" + Foreground: "#2177a7" + Background: "#09090d" + HighlightedForeground: "#3B2352" + HighlightedBackground: "#3B2352" + WindowBackground: "#09090d" + ErrorBackground: "#636363" + DefaultBackground: "#09090d" + NumberForeground: "#69e62e" + FunctionMethodNameForeground: "#df2828" + KeywordForeground: "#e08f23" + SymbolForeground: "#a143af" + ModuleNameForeground: "#0fa4c4" + InstanceVariableForeground : "#d51b7f" + ClassVariableForeground: "#859900" + DoubleQuotedStringForeground: "#ba2290" + SingleQuotedStringForeground: "#22acba" + RegexForeground: "#e8448e" + SelectionForeground: "#292828" + SelectionBackground: "#b1701e" + MatchedBraceForeground: "#91a707" + MatchedBraceBackground: "#3a1f4a" + BraceForeground: "" + Scope: "#C4580F" + LogInfoForeground: "#585858" + LogInfoBackground: "#0a0a0a" + LogBackground: "#0a0a0a" + CuePathForeground: "#585858" + CuePathBackground: "#0a0a0a" + css: + background: '#0D0D0D' + foreground: '#a29e9e' + strong: '#c7d524' + emphasis: '#108E1A' + mark: + foreground: '#010101' + background: '#811d47' + strike: '#282828' + pre: '#d14242' + link: '#066592' + tag: '#838d6e' + h1: '#108E1A' + h2: '#bbaf05' + h3: '#14a8f0' + h4: '#b8b8b8' + h5: '#e9f10a' + sub: '#d28215' + sup: '#1D7981' + primary: + background: '#000000' + foreground: '#838d6e' + cursor: '#a38e1d' + status: '#794794' + separator: '#282828' + normal: + black: '#000000' + red: '#E32C2C' + green: '#4E9A06' + yellow: '#468A35' + blue: '#5B24A0' + magenta: '#96363C' + cyan: '#06989A' + white: '#77767B' + bright: + black: '#1C71D8' + red: '#EF2929' + green: '#8AE234' + yellow: '#FCE94F' + blue: '#729FCF' + magenta: '#865E3C' + cyan: '#34E2E2' + white: '#1C8B1C' + selection: + foreground: '#292828' + background: '#b1701e' + workspace: + background: '#3149a7' + border: '#3149a7' + text: '#ebdbb2' + focused: + border: '#33eb1c' + background: '#000000' + text: '#ebdbb2' + indicator: '#33eb1c' + child_border: '#33eb1c' + unfocused: + border: '#2a2a2a' + background: '#000000' + text: '#4a4d44' + indicator: '#33eb1c' + child_border: '#2a2a2a' + active: + border: '#2a2a2a' + background: '#000000' + text: '#4a4d44' + indicator: '#33eb1c' + child_border: '#33eb1c' + inactive: + border: '#2a2a2a' + background: '#6c6c6c' + text: '#4a4d44' + indicator: '#2a2a2a' + child_border: '#2a2a2a' + urgent: + border: '#2a8e10' + background: '#000000' + text: '#4a4d44' + indicator: '#33eb1c' + child_border: '#2a2a2a' + placeholder: + border: '#2a2a2a' + background: '#249043' + text: '#4a4d44' + indicator: '#33eb1c' + child_border: '#2a2a2a' - # colors: - # active_border: "#8f350a" - # background: "#000000" - # background_alt: "#00000099" - # black0: "#000000" - # black1: "#000000" - # black: "#030303" - # blue0: "#838d6e" - # blue1: "#475ebd" - # border: "#b52525" - # charcoal: "#0f1110" - # cursor: "#e0aa7c" - # cyan0: "#6e576f" - # cyan1: "#f07d14" - # dark_plum: "#4d0c28" - # foreground: "#a3a3a3" - # foreground_alt: "#859900" - # green0: "#97e023" - # green1: "#97e023" - # inactive_border: "#292828" - # magenta0: "#96363c" - # magenta1: "#e04b5a" - # orange0: "#e3870e" - # red0: "#b50047" - # red1: "#be004a" - # royal_blue: "#2424aa" - # selection_background: "#b1701e" - # selection_foreground: "#292828" - # separator: "#505050" - # shit_green: "#8a8d2d" - # slate_blue: "#01495d" - # text: "#fffacd" - # white0: "#ffffff" - # white1: "#efecf4" - # yellow0: "#fa8419" - # yellow1: "#c3b624" +# colors: +# active_border: "#8f350a" +# background: "#000000" +# background_alt: "#00000099" +# black0: "#000000" +# black1: "#000000" +# black: "#030303" +# blue0: "#838d6e" +# blue1: "#475ebd" +# border: "#b52525" +# charcoal: "#0f1110" +# cursor: "#e0aa7c" +# cyan0: "#6e576f" +# cyan1: "#f07d14" +# dark_plum: "#4d0c28" +# foreground: "#a3a3a3" +# foreground_alt: "#859900" +# green0: "#97e023" +# green1: "#97e023" +# inactive_border: "#292828" +# magenta0: "#96363c" +# magenta1: "#e04b5a" +# orange0: "#e3870e" +# red0: "#b50047" +# red1: "#be004a" +# royal_blue: "#2424aa" +# selection_background: "#b1701e" +# selection_foreground: "#292828" +# separator: "#505050" +# shit_green: "#8a8d2d" +# slate_blue: "#01495d" +# text: "#fffacd" +# white0: "#ffffff" +# white1: "#efecf4" +# yellow0: "#fa8419" +# yellow1: "#c3b624" diff --git a/host_vars/soundbot.yml b/host_vars/soundbot.yml index be2de75..242a448 100644 --- a/host_vars/soundbot.yml +++ b/host_vars/soundbot.yml @@ -52,11 +52,11 @@ desktop: x: autostart: - - "jacktrip -c tinybot.soundbot.net -n 8 -q auto -b 24 -D --udprt &" + - "jacktrip -c tinybot.soundbot.net -n 4 -q auto -b 24 -D --udprt &" i3: autostart: - - "/usr/bin/barrierc -f --debug INFO --name soundbot --disable-crypto [tinybot]:24800" + - "/usr/bin/barrierc -f --debug INFO --name soundbot.soundbot.net --disable-crypto [tinybot.soundbot.net]:24800" - "ray-daemon --session-root ~/NetworkSessions -p 7777" # - "/usr/bin/barriers -f --debug INFO --name soundbot --disable-crypto --disable-client-cert-checking -c ~/.config/Debauchee/soundbot.conf --address :24800" # - "terminator" diff --git a/host_vars/tinybot.yml b/host_vars/tinybot.yml index d202c16..72f4fd4 100644 --- a/host_vars/tinybot.yml +++ b/host_vars/tinybot.yml @@ -46,12 +46,12 @@ barrier: x: autostart: - - "jacktrip -s -n 8 -q auto -b 24 -D --udprt &" + - "jacktrip -s -n 4 -q auto -b 24 -D --udprt &" i3: autostart: # - "/usr/bin/barrierc -f --debug INFO --name tinybot --disable-crypto [ninjabot]:24800" - - "/usr/bin/barriers -f --debug INFO --name tinybot --disable-crypto --disable-client-cert-checking -c ~/.config/Debauchee/tinybot.conf --address :24800" + - "/usr/bin/barriers -f --debug INFO --name tinybot.soundbot.net --disable-crypto --disable-client-cert-checking -c ~/.config/Debauchee/tinybot.conf --address :24800" tray_output: "DP-3" assignments: '' workspaces: diff --git a/inventory.ini b/inventory.ini index 8876a97..82abd47 100644 --- a/inventory.ini +++ b/inventory.ini @@ -20,13 +20,6 @@ bender [pi] pibot -## local postgres database -; [database] -; soundbot - -## test vms -; [vm] - ## nginx hosts [webhost] ninjabot @@ -37,17 +30,3 @@ syncopated.hopto.org ansible_user=ec2-user remote_user=root nginx_module_fancy_i nginx_module_fancy_index=False nginx_create_blank_index=True webroot=/usr/share/nginx/html - -## docker - -; [app] -; [chromadb] -; [redis] -; -; [containers:children] -; app -; chromadb -; redis -; -; [containers:vars] -; ansible_connection=docker diff --git a/roles/base/templates/etc/makepkg.conf.j2 b/roles/base/templates/etc/makepkg.conf.j2 index c759194..188b83e 100644 --- a/roles/base/templates/etc/makepkg.conf.j2 +++ b/roles/base/templates/etc/makepkg.conf.j2 @@ -27,7 +27,7 @@ CHOST="x86_64-pc-linux-gnu" #-- Compiler and Linker Flags #CPPFLAGS="" #CFLAGS="-march=native -O3 -pipe -fno-plt -fexceptions \ -CFLAGS="-march={{ architecture }} -O3 -pipe -fno-plt -fexceptions \ +CFLAGS="-march=native -O3 -pipe -fno-plt -fexceptions \ -Wp,-D_FORTIFY_SOURCE=2 -Wformat -Werror=format-security \ -fstack-clash-protection -fcf-protection" CXXFLAGS="$CFLAGS -Wp,-D_GLIBCXX_ASSERTIONS" diff --git a/roles/base/vars/packages/Archlinux/base.yml b/roles/base/vars/packages/Archlinux/base.yml index 852d9d2..fee01b0 100644 --- a/roles/base/vars/packages/Archlinux/base.yml +++ b/roles/base/vars/packages/Archlinux/base.yml @@ -27,7 +27,7 @@ system: - cpupower - dialog - dmidecode - - exa + - eza - faad2 - fasd - fd diff --git a/roles/desktop/templates/home/.config/i3/window_assignments.j2 b/roles/desktop/templates/home/.config/i3/window_assignments.j2 index 6dd6b07..a3648d0 100644 --- a/roles/desktop/templates/home/.config/i3/window_assignments.j2 +++ b/roles/desktop/templates/home/.config/i3/window_assignments.j2 @@ -202,21 +202,17 @@ for_window [class="^Hydrogen" title="^Mixer"] move down, resize shrink height 40 ###################################### # ---{ meters }--- ###################################### -for_window [title="(?i)EBU R128 Meter"] border normal -# for_window [title="(?i)Jack_mixer"] floating enable, resize set 1547 1021, move position 1098px 979 - -for_window [title="(?i)x42-comp"] floating disable - -for_window [title="(?i)x42-dpl"] floating disable -for_window [title="(?i)Luftikus"] floating disable - -#for_window [class="(?i)zita-mu1"] border normal, floating enable, resize set 980 90, move position center - -for_window [title="(?i)x42-eq"] floating enable +for_window [class="(?i)zita-mu1"] border normal, floating enable, move position center for_window [title="^zita-rev1"] border normal, floating enable +for_window [title="(?i)Luftikus"] floating enable + ### x42 +for_window [title="(?i)EBU R128 Meter"] border normal +for_window [title="(?i)x42-dpl"] floating enable +for_window [title="(?i)x42-comp"] floating enable +for_window [title="(?i)x42-eq"] floating enable, resize set 1242 722, move position center, focus for_window [title="(?i)Phase/Frequency Wheel"] floating enable, border normal for_window [title="(?i)Stereo/Frequency Scope"] floating enable, border normal for_window [title="(?i)Phaserotate"] floating enable, border normal diff --git a/roles/theme/defaults/main.yml b/roles/theme/defaults/main.yml index 415d84d..7ee67af 100644 --- a/roles/theme/defaults/main.yml +++ b/roles/theme/defaults/main.yml @@ -7,20 +7,3 @@ theme: cursor: xcursor-breeze kvantum: KvGnomeDark qtstyle: Fusion - -backgrounds: /usr/share/backgrounds/syncopated - -font: - primary: - name: Hack Nerd Font - size: 10 - hintstyle: hintsfull - glyphs: - name: Font Awesome 6 Free Regular - mono: - name: Hack Nerd Font Mono - - - -ohmyzsh: - theme: minimal-terminal-prompt diff --git a/roles/theme/vars/main.yml b/roles/theme/vars/main.yml index e69de29..ed97d53 100644 --- a/roles/theme/vars/main.yml +++ b/roles/theme/vars/main.yml @@ -0,0 +1 @@ +--- diff --git a/roles/user/templates/home/.aliases.j2 b/roles/user/templates/home/.aliases.j2 index e66182b..b3f333e 100644 --- a/roles/user/templates/home/.aliases.j2 +++ b/roles/user/templates/home/.aliases.j2 @@ -19,10 +19,10 @@ alias mv="mv -iv" alias df='df -h' # use exa for directory listing -alias ll="exa --sort=ext --long --level=2 --icons" -alias ls="exa -h --group-directories-first -g --icons" -alias llh="exa --sort=ext --long -a --level=2 --icons" -alias lltrah="exa --sort=ext --long -a --level=2 --icons -s modified" +alias ll="eza --sort=ext --long --level=2 --icons" +alias ls="eza -h --group-directories-first -g --icons" +alias llh="eza --sort=ext --long -a --level=2 --icons" +alias lltrah="eza --sort=ext --long -a --level=2 --icons -s modified" # if available use bat instead of cat if [ -x "$(command -v bat)" ]; then diff --git a/workstation.yml b/workstation.yml index 82f1271..53424c5 100644 --- a/workstation.yml +++ b/workstation.yml @@ -39,6 +39,9 @@ - role: xorg tags: ['xorg'] + - role: desktop + tags: ['desktop'] + - role: applications tags: ['applications'] 
```


[[example input]]

[[example response]]




### example response

```diff
In this git commit, various changes were made to configuration files and templates:

- Modified `base.yml`:
    
    - Modified Ansible task related to reboot to include a debug message ensuring reboot success.
- Modified `group_vars/all.yml`:
    
    - Added configurations related to fonts and ohmyzsh theme.
- Modified `group_vars/workstation.yml`:
    
    - Added a configuration for setting the background.
- Modified `host_vars/soundbot.yml` and `host_vars/tinybot.yml`:
    
    - Modified autostart configurations for Jacktrip.
- Modified `inventory.ini`:
    
    - Removed some commented sections related to Docker.
- Modified `roles/base/templates/etc/makepkg.conf.j2`:
    
    - Changed `CFLAGS` related to the architecture.
- Modified `roles/base/vars/packages/Archlinux/base.yml`:
    
    - Corrected a package name from "exa" to "eza".
- Modified `roles/desktop/templates/home/.config/i3/window_assignments.j2`:
    
    - Modified window assignments for various applications.
- Modified `roles/theme/defaults/main.yml`:
    
    - Moved "backgrounds" and "font" configurations to another file.
- Created `roles/theme/vars/main.yml`:
    
    - Empty file, likely for future use.
- Modified `roles/user/templates/home/.aliases.j2`:
    
    - Changed aliases to use "eza" instead of "exa".
- Modified `workstation.yml`:
    
    - Included roles for Xorg and desktop configuration.

The changes involve updates to various configurations related to system settings, themes, window assignments, aliases, and applications.
```
